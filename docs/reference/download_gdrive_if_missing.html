<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Download gdrive if missing — download_gdrive_if_missing • fistools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Download gdrive if missing — download_gdrive_if_missing"><meta property="og:description" content="This function downloads the specified file from google drive if the destination
file does not exist. If it does exist the user will be prompted to download
it again."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fistools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download gdrive if missing</h1>

    <div class="hidden name"><code>download_gdrive_if_missing.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function downloads the specified file from google drive if the destination
file does not exist. If it does exist the user will be prompted to download
it again.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">download_gdrive_if_missing</span><span class="op">(</span><span class="va">gfileID</span>, <span class="va">destfile</span>, update_always <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">email</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-gfileid">gfileID<a class="anchor" aria-label="anchor" href="#arg-gfileid"></a></dt>
<dd><p>character google file token</p></dd>


<dt id="arg-destfile">destfile<a class="anchor" aria-label="anchor" href="#arg-destfile"></a></dt>
<dd><p>character destination filename with extention</p></dd>


<dt id="arg-update-always">update_always<a class="anchor" aria-label="anchor" href="#arg-update-always"></a></dt>
<dd><p>optional boolean to trigger a download everytime the
function is run. default is FALSE.</p></dd>


<dt id="arg-email">email<a class="anchor" aria-label="anchor" href="#arg-email"></a></dt>
<dd><p>optional character specifying the users email used to access the
googledrive file.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>If the destination file was missing it is downloaded from the
googledrive.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Its best practice to provide the email in encrypted form. This can be easily
achieved by adding email as an item in a .renviron file or even beter by using
more robust encryption methods.</p>
<p>When a <em>PERMISSION_DENIED</em> error occurs, it is likely that the file is not shared
with the email address provided. This can be fixed by sharing the file with the
email address. If the file was shared correctly this might indicate that email address
does not have the correct permissions to access the file. This can be fixed by
running <code><a href="https://googledrive.tidyverse.org/reference/drive_auth.html" class="external-link">googledrive::drive_auth()</a></code> and making sure the
'show, modify and delete all drive files' option is selected. If the error persists
please create a <a href="https://github.com/inbo/fistools/issues/new/choose" class="external-link">new issue</a>
on the github page.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other download:
<code><a href="download_dep_media.html">download_dep_media</a>()</code>,
<code><a href="download_seq_media.html">download_seq_media</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Sander Devisscher</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># download newest version of the team charter</span></span></span>
<span class="r-in"><span><span class="fu">download_gdrive_if_missing</span><span class="op">(</span>gfileID <span class="op">=</span> <span class="st">"1gtqcZojPnbLhEgpul3r9sy2zK3UyyCVG"</span>,</span></span>
<span class="r-in"><span>                           destfile <span class="op">=</span> <span class="st">"../../Teamcharters/Teamcharter_FIS.pdf"</span>,</span></span>
<span class="r-in"><span>                           email <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"email"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           update_always <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># download newest DRG Agouti export</span></span></span>
<span class="r-in"><span><span class="fu">download_gdrive_if_missing</span><span class="op">(</span>gfileID <span class="op">=</span> <span class="st">"1FX8DDyREKMH1M3iW9ijWjVjO_tBH8PXi"</span>,</span></span>
<span class="r-in"><span>                           destfile <span class="op">=</span> <span class="st">"../fis-projecten/Grofwild/Drongengoed/Input/Agouti/drongengoed_240502.zip"</span>,</span></span>
<span class="r-in"><span>                           email <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"email"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           update_always <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sander Devisscher, Lynn Pallemaerts, Soria Delva, Emma Cartuyvels, Martijn Bollen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

